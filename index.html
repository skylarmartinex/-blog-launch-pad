<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog Launch Pad</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a2e 50%, #16213e 100%);
            color: #e2e8f0;
            font-family: 'IBM Plex Sans', -apple-system, sans-serif;
            padding: 24px;
            line-height: 1.6;
        }
        .container { max-width: 1000px; margin: 0 auto; }
        .header { text-align: center; margin-bottom: 32px; }
        .header h1 {
            font-size: 2.5rem; font-weight: 700;
            background: linear-gradient(135deg, #60a5fa, #a78bfa, #f472b6);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            background-clip: text; margin-bottom: 8px; letter-spacing: -0.02em;
        }
        .header p { color: #94a3b8; font-size: 1rem; }
        .stats-bar { display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 24px; }
        @media (max-width: 768px) {
            .stats-bar { grid-template-columns: repeat(2, 1fr); }
            .header h1 { font-size: 1.8rem; }
        }
        .stat-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 16px; padding: 20px; text-align: center; backdrop-filter: blur(10px);
        }
        .stat-label { color: #64748b; font-size: 0.75rem; margin-bottom: 4px; text-transform: uppercase; letter-spacing: 0.05em; }
        .stat-value { font-size: 1.75rem; font-weight: 700; }
        .tabs {
            display: flex; gap: 8px; margin-bottom: 24px; flex-wrap: wrap;
            background: rgba(0,0,0,0.3); padding: 8px; border-radius: 12px;
        }
        .tab-btn {
            padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer;
            background: transparent; color: #94a3b8; font-weight: 600; font-size: 0.9rem;
            display: flex; align-items: center; gap: 8px; transition: all 0.2s ease; font-family: inherit;
        }
        .tab-btn:hover { background: rgba(255,255,255,0.1); }
        .tab-btn.active { background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; }
        .main-card {
            background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.08);
            border-radius: 16px; padding: 24px; min-height: 500px; backdrop-filter: blur(10px);
        }
        .section-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; flex-wrap: wrap; gap: 16px; }
        .section-header h2 { font-size: 1.5rem; font-weight: 700; margin-bottom: 4px; }
        .section-header p { color: #64748b; }
        .progress-display { text-align: right; }
        .progress-percent { font-size: 2rem; font-weight: 700; }
        .progress-label { color: #64748b; font-size: 0.8rem; }
        .progress-bar-container { height: 6px; background: rgba(255,255,255,0.1); border-radius: 3px; margin-bottom: 24px; overflow: hidden; }
        .progress-bar { height: 100%; border-radius: 3px; transition: width 0.5s ease; }
        .task-list { display: flex; flex-direction: column; gap: 12px; }
        .task-item {
            display: flex; align-items: center; gap: 16px; padding: 16px 20px;
            background: rgba(255,255,255,0.02); border-radius: 12px; cursor: pointer;
            border: 1px solid rgba(255,255,255,0.05); transition: all 0.2s ease;
        }
        .task-item:hover { transform: translateX(4px); background: rgba(255,255,255,0.05); }
        .task-item.done { background: rgba(16, 185, 129, 0.1); border-color: rgba(16, 185, 129, 0.3); }
        .task-item.has-notes { border-left: 3px solid #a78bfa; }
        .task-checkbox {
            appearance: none; width: 22px; height: 22px; border: 2px solid rgba(255,255,255,0.3);
            border-radius: 6px; cursor: pointer; transition: all 0.2s ease; position: relative; flex-shrink: 0;
        }
        .task-checkbox:checked { background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-color: transparent; }
        .task-checkbox:checked::after {
            content: '‚úì'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); color: white; font-size: 12px; font-weight: bold;
        }
        .task-content { flex: 1; display: flex; flex-direction: column; gap: 4px; }
        .task-text { flex: 1; }
        .task-item.done .task-text { text-decoration: line-through; color: #64748b; }
        .task-note-preview { font-size: 0.8rem; color: #a78bfa; font-style: italic; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 400px; }
        .task-time { padding: 4px 12px; background: rgba(59, 130, 246, 0.2); border-radius: 20px; font-size: 0.8rem; color: #60a5fa; font-family: 'JetBrains Mono', monospace; flex-shrink: 0; }
        .task-day { width: 60px; color: #8b5cf6; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; flex-shrink: 0; }
        .task-expand { padding: 6px 12px; background: rgba(167, 139, 250, 0.2); border-radius: 8px; font-size: 0.75rem; color: #a78bfa; flex-shrink: 0; }
        .modal-overlay {
            display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.8); z-index: 1000; align-items: center; justify-content: center; padding: 24px;
        }
        .modal-overlay.open { display: flex; }
        .modal {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 20px;
            width: 100%; max-width: 600px; max-height: 90vh; overflow-y: auto; padding: 32px;
        }
        .modal-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 24px; gap: 16px; }
        .modal-title { font-size: 1.25rem; font-weight: 700; color: #e2e8f0; line-height: 1.4; }
        .modal-close {
            background: rgba(255,255,255,0.1); border: none; border-radius: 8px;
            width: 36px; height: 36px; cursor: pointer; color: #94a3b8; font-size: 1.25rem; flex-shrink: 0; transition: all 0.2s ease;
        }
        .modal-close:hover { background: rgba(255,255,255,0.2); color: white; }
        .modal-section { margin-bottom: 24px; }
        .modal-label { font-size: 0.85rem; font-weight: 600; color: #94a3b8; text-transform: uppercase; letter-spacing: 0.05em; margin-bottom: 12px; display: block; }
        .modal-textarea {
            width: 100%; min-height: 150px; background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; padding: 16px;
            color: #e2e8f0; font-family: inherit; font-size: 1rem; resize: vertical; line-height: 1.6;
        }
        .modal-textarea:focus { outline: none; border-color: #a78bfa; }
        .modal-textarea::placeholder { color: #64748b; }
        .modal-actions { display: flex; gap: 12px; justify-content: flex-end; flex-wrap: wrap; }
        .btn { padding: 12px 24px; border-radius: 10px; font-weight: 600; font-size: 0.9rem; cursor: pointer; transition: all 0.2s ease; font-family: inherit; border: none; }
        .btn-primary { background: linear-gradient(135deg, #3b82f6, #8b5cf6); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4); }
        .btn-complete { background: rgba(16, 185, 129, 0.2); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.3); }
        .btn-complete:hover { background: rgba(16, 185, 129, 0.3); }
        .btn-complete.completed { background: #10b981; color: white; }
        .save-status { font-size: 0.8rem; color: #64748b; margin-right: auto; display: flex; align-items: center; gap: 8px; }
        .save-status.saving { color: #f59e0b; }
        .save-status.saved { color: #10b981; }
        .roadmap-list { display: flex; flex-direction: column; gap: 20px; }
        .roadmap-item { display: grid; grid-template-columns: 60px 1fr; gap: 20px; padding: 20px; background: rgba(255,255,255,0.02); border-radius: 12px; border: 2px solid rgba(255,255,255,0.05); }
        .roadmap-item.active { background: rgba(59,130,246,0.1); border-color: #3b82f6; }
        .phase-number { width: 50px; height: 50px; border-radius: 50%; background: rgba(255,255,255,0.1); display: flex; align-items: center; justify-content: center; font-size: 1.25rem; font-weight: 700; color: #64748b; }
        .roadmap-item.active .phase-number { background: #3b82f6; color: white; }
        .phase-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; flex-wrap: wrap; }
        .phase-name { font-size: 1.1rem; font-weight: 700; }
        .phase-weeks { padding: 2px 10px; background: rgba(255,255,255,0.1); border-radius: 20px; font-size: 0.75rem; color: #94a3b8; }
        .phase-current { padding: 2px 10px; background: #3b82f6; border-radius: 20px; font-size: 0.75rem; color: white; font-weight: 600; }
        .phase-focus { color: #94a3b8; font-size: 0.9rem; margin-bottom: 8px; }
        .phase-milestone { color: #e2e8f0; font-size: 0.85rem; }
        .idea-card { padding: 20px; background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); display: flex; justify-content: space-between; align-items: center; gap: 16px; margin-bottom: 16px; flex-wrap: wrap; }
        .idea-title { font-size: 1rem; font-weight: 600; color: #e2e8f0; margin-bottom: 8px; }
        .idea-tags { display: flex; gap: 8px; flex-wrap: wrap; }
        .tag { padding: 4px 12px; border-radius: 20px; font-size: 0.75rem; font-weight: 500; }
        .tag-priority { padding: 6px 14px; border-radius: 20px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .tag-priority.high { background: rgba(239, 68, 68, 0.2); color: #f87171; }
        .tag-priority.medium { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
        .tag-priority.low { background: rgba(107, 114, 128, 0.2); color: #9ca3af; }
        .backlog-card { padding: 20px; background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); margin-bottom: 16px; }
        .backlog-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 12px; flex-wrap: wrap; gap: 12px; }
        .backlog-title { font-size: 1rem; font-weight: 600; color: #e2e8f0; }
        .backlog-tag { padding: 4px 12px; background: rgba(139, 92, 246, 0.2); color: #a78bfa; border-radius: 20px; font-size: 0.7rem; font-weight: 600; text-transform: uppercase; }
        .backlog-desc { color: #94a3b8; font-size: 0.9rem; margin-bottom: 12px; }
        .backlog-meta { display: flex; gap: 16px; flex-wrap: wrap; }
        .backlog-meta span { font-size: 0.8rem; }
        .meta-impact { color: #10b981; }
        .meta-tools { color: #60a5fa; font-family: 'JetBrains Mono', monospace; }
        .sop-card { padding: 24px; background: rgba(255,255,255,0.02); border-radius: 12px; border: 1px solid rgba(255,255,255,0.08); margin-bottom: 24px; }
        .sop-title { font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; color: #60a5fa; }
        .sop-phase { font-size: 0.85rem; font-weight: 600; color: #f59e0b; margin-bottom: 12px; text-transform: uppercase; letter-spacing: 0.05em; }
        .sop-steps { padding-left: 16px; border-left: 2px solid rgba(255,255,255,0.1); margin-bottom: 20px; }
        .sop-step { display: flex; align-items: flex-start; gap: 12px; color: #cbd5e1; font-size: 0.9rem; margin-bottom: 8px; }
        .sop-step span { color: #64748b; }
        .footer { margin-top: 24px; text-align: center; color: #475569; font-size: 0.8rem; }
        .reset-btn { padding: 8px 16px; background: rgba(239, 68, 68, 0.2); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; color: #f87171; font-size: 0.8rem; cursor: pointer; font-family: inherit; transition: all 0.2s ease; }
        .reset-btn:hover { background: rgba(239, 68, 68, 0.3); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .pillar-tool { background: #1e3a5f; color: #3b82f6; }
        .pillar-systems { background: #134e4a; color: #10b981; }
        .pillar-growth { background: #78350f; color: #f59e0b; }
        .pillar-case { background: #4c1d95; color: #8b5cf6; }
        .loading { text-align: center; padding: 40px; color: #64748b; }
        @media (max-width: 600px) { .modal { padding: 20px; } .task-expand { display: none; } }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üöÄ Blog Launch Pad</h1>
            <p>Your 6-Month Blog Growth System ‚Ä¢ Tech √ó Personal Development √ó Entrepreneurship</p>
        </div>
        <div class="stats-bar">
            <div class="stat-card"><div class="stat-label">Day 1 Progress</div><div class="stat-value" id="stat-day1" style="color: #3b82f6;">0%</div></div>
            <div class="stat-card"><div class="stat-label">Week 1 Progress</div><div class="stat-value" id="stat-week1" style="color: #10b981;">0%</div></div>
            <div class="stat-card"><div class="stat-label">Week 2 Progress</div><div class="stat-value" id="stat-week2" style="color: #f59e0b;">0%</div></div>
            <div class="stat-card"><div class="stat-label">Current Phase</div><div class="stat-value" style="color: #8b5cf6;">Foundation</div></div>
        </div>
        <div class="tabs">
            <button class="tab-btn active" data-tab="day1">‚ö° Day 1</button>
            <button class="tab-btn" data-tab="week1">üìÖ Week 1</button>
            <button class="tab-btn" data-tab="week2">üìÖ Week 2</button>
            <button class="tab-btn" data-tab="roadmap">üó∫Ô∏è Roadmap</button>
            <button class="tab-btn" data-tab="ideas">üí° Content Ideas</button>
            <button class="tab-btn" data-tab="backlog">üîß Automations</button>
            <button class="tab-btn" data-tab="sops">üìã SOPs</button>
        </div>
        <div class="main-card">
            <div class="tab-content active" id="tab-day1">
                <div class="section-header">
                    <div><h2>‚ö° Day 1: Foundation Launch</h2><p>Complete these tasks in 60-90 minutes to get started</p></div>
                    <div class="progress-display"><div class="progress-percent" id="progress-day1" style="color: #3b82f6;">0%</div><div class="progress-label">Complete</div></div>
                </div>
                <div class="progress-bar-container"><div class="progress-bar" id="bar-day1" style="width: 0%; background: linear-gradient(90deg, #3b82f6, #8b5cf6);"></div></div>
                <div class="task-list" id="tasks-day1"><div class="loading">Loading tasks...</div></div>
            </div>
            <div class="tab-content" id="tab-week1">
                <div class="section-header">
                    <div><h2>üìÖ Week 1: Foundation & Identity</h2><p>Get the blog live with clear positioning</p></div>
                    <div class="progress-display"><div class="progress-percent" id="progress-week1" style="color: #10b981;">0%</div><div class="progress-label">Complete</div></div>
                </div>
                <div class="progress-bar-container"><div class="progress-bar" id="bar-week1" style="width: 0%; background: linear-gradient(90deg, #10b981, #34d399);"></div></div>
                <div class="task-list" id="tasks-week1"><div class="loading">Loading tasks...</div></div>
            </div>
            <div class="tab-content" id="tab-week2">
                <div class="section-header">
                    <div><h2>üìÖ Week 2: Content Engine Start</h2><p>Build momentum with 3-4 posts + basic SEO</p></div>
                    <div class="progress-display"><div class="progress-percent" id="progress-week2" style="color: #f59e0b;">0%</div><div class="progress-label">Complete</div></div>
                </div>
                <div class="progress-bar-container"><div class="progress-bar" id="bar-week2" style="width: 0%; background: linear-gradient(90deg, #f59e0b, #fbbf24);"></div></div>
                <div class="task-list" id="tasks-week2"><div class="loading">Loading tasks...</div></div>
            </div>
            <div class="tab-content" id="tab-roadmap"><h2 style="margin-bottom: 24px;">üó∫Ô∏è 6-Month Roadmap</h2><div class="roadmap-list" id="roadmap-list"></div></div>
            <div class="tab-content" id="tab-ideas"><h2 style="margin-bottom: 24px;">üí° Content Ideas Bank</h2><div id="ideas-list"></div></div>
            <div class="tab-content" id="tab-backlog"><h2 style="margin-bottom: 8px;">üîß Future Automations Backlog</h2><p style="color: #64748b; margin-bottom: 24px;">Tasks flagged for automation when ready</p><div id="backlog-list"></div></div>
            <div class="tab-content" id="tab-sops"><h2 style="margin-bottom: 24px;">üìã Standard Operating Procedures</h2><div id="sops-list"></div></div>
        </div>
        <div class="footer"><p>‚ú® Your progress syncs automatically across all devices</p><button class="reset-btn" onclick="resetProgress()" style="margin-top: 12px;">Reset All Progress</button></div>
    </div>
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal">
            <div class="modal-header"><h3 class="modal-title" id="modal-title">Task Title</h3><button class="modal-close" onclick="closeModal()">√ó</button></div>
            <div class="modal-section"><label class="modal-label">Your Notes & Answers</label><textarea class="modal-textarea" id="modal-notes" placeholder="Write your notes here..."></textarea></div>
            <div class="modal-actions"><span class="save-status" id="save-status"></span><button class="btn btn-complete" id="btn-complete" onclick="toggleTaskComplete()">Mark Complete</button><button class="btn btn-primary" onclick="saveAndClose()">Save & Close</button></div>
        </div>
    </div>
    <script>
        const SUPABASE_URL = 'https://troqjlpihzzrfbqchlce.supabase.co';
        const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRyb3FqbHBpaHp6cmZicWNobGNlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ3MTk1NzcsImV4cCI6MjA4MDI5NTU3N30.2wUslY5QtwkRKLLfDeZlZyTdtdROZnTIgQqnrjpqJII';
        const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

        const tasksData = {
            day1: [
                { id: 'd1-1', text: 'Define niche statement: "I help [audience] use [tools] to achieve [outcome]"', time: '20 min', hint: 'Example: "I help solo creators use AI tools and systems to work smarter and grow faster"' },
                { id: 'd1-2', text: 'Brainstorm 10-15 blog name ideas', time: '15 min', hint: 'Write down all your ideas, even crazy ones.' },
                { id: 'd1-3', text: 'Check domain availability (Namecheap/Porkbun)', time: '10 min', hint: 'Note which names are available as .com domains' },
                { id: 'd1-4', text: 'Purchase your domain (.com preferred)', time: '5 min', hint: 'Write down the domain you purchased' },
                { id: 'd1-5', text: 'Decide on tech stack: WordPress + SiteGround hosting', time: '10 min', hint: 'Note your final decision and why' },
                { id: 'd1-6', text: 'Bookmark SiteGround.com for tomorrow', time: '5 min', hint: 'Done! Ready for Day 2' },
            ],
            week1: [
                { id: 'w1-1', text: 'Day 1: Niche + Domain + Tech decision', day: 1, hint: 'Summary of Day 1 decisions' },
                { id: 'w1-2', text: 'Day 2: Set up hosting + Install WordPress', day: 2, hint: 'Note login details and any issues' },
                { id: 'w1-3', text: 'Day 3: Choose theme + Basic design config', day: 3, hint: 'Theme name, colors, fonts selected' },
                { id: 'w1-4', text: 'Day 4: Write About page + Core pages', day: 4, hint: 'Draft your About page content here' },
                { id: 'w1-5', text: 'Day 5: Define 4 pillars + Brainstorm 20 post ideas', day: 5, hint: 'List content pillars and post ideas' },
                { id: 'w1-6', text: 'Day 6: Outline first 3 posts', day: 6, hint: 'Brief outlines for each post' },
                { id: 'w1-7', text: 'Day 7: Write + Publish Post #1', day: 7, hint: 'Post title, URL, and notes' },
            ],
            week2: [
                { id: 'w2-1', text: 'Day 8: Install Yoast/RankMath + Google Search Console', day: 8, hint: 'Plugin chosen and setup status' },
                { id: 'w2-2', text: 'Day 9: Write + Publish Post #2 (Tool Deep Dive)', day: 9, hint: 'Post title, URL, notes' },
                { id: 'w2-3', text: 'Day 10: Keyword research - find 10 low-comp keywords', day: 10, hint: 'List your 10 target keywords' },
                { id: 'w2-4', text: 'Day 11: Write + Publish Post #3 (Systems/Workflow)', day: 11, hint: 'Post title, URL, notes' },
                { id: 'w2-5', text: 'Day 12: Set up Google Analytics + Dashboard', day: 12, hint: 'Tracking ID and setup status' },
                { id: 'w2-6', text: 'Day 13: Write + Publish Post #4 (Personal Growth)', day: 13, hint: 'Post title, URL, notes' },
                { id: 'w2-7', text: 'Day 14: Weekly review + Plan Week 3', day: 14, hint: 'Week 1-2 review and Week 3 plan' },
            ]
        };

        const roadmapData = [
            { phase: 1, name: 'Foundation', weeks: '1-4', focus: 'Brand, positioning, tech setup, first 10 posts', milestone: 'Blog live + 10 articles', active: true },
            { phase: 2, name: 'Consistent Publishing', weeks: '5-10', focus: '2-3 posts/week, basic SEO, content calendar', milestone: '30 total posts, traffic baseline', active: false },
            { phase: 3, name: 'Growth', weeks: '11-16', focus: 'Email list, lead magnet, social distribution', milestone: '500 email subscribers', active: false },
            { phase: 4, name: 'Monetization', weeks: '17-20', focus: 'Affiliate content, first digital product', milestone: 'First $500 revenue', active: false },
            { phase: 5, name: 'Automation & Scale', weeks: '21-26', focus: 'Delegate, systematize, AI agents', milestone: '80% publishing automated', active: false },
        ];

        const ideasData = [
            { title: 'How I Use Claude to Write Blog Posts 2x Faster', pillar: 'Tool Deep Dive', keyword: 'claude ai writing', priority: 'high' },
            { title: 'My Morning Routine System (Built with Notion)', pillar: 'Systems & Workflows', keyword: 'notion morning routine', priority: 'high' },
            { title: 'The Solo Creator Tech Stack for 2025', pillar: 'Tool Deep Dive', keyword: 'creator tech stack', priority: 'medium' },
            { title: '5 Automations Every Solopreneur Needs', pillar: 'Systems & Workflows', keyword: 'solopreneur automations', priority: 'high' },
            { title: 'Why I Quit Productivity Apps (And What I Use Instead)', pillar: 'Personal Growth', keyword: 'productivity apps alternative', priority: 'medium' },
            { title: 'Building My First AI Agent: A Case Study', pillar: 'Case Study', keyword: 'build ai agent tutorial', priority: 'medium' },
            { title: 'The 2-Hour Work Morning: Deep Work for Creators', pillar: 'Personal Growth', keyword: 'deep work morning routine', priority: 'low' },
            { title: 'Zapier vs Make vs n8n: Which Automation Tool Wins?', pillar: 'Tool Deep Dive', keyword: 'zapier vs make comparison', priority: 'high' },
        ];

        const backlogData = [
            { title: 'Auto-generate post outlines', description: 'AI creates draft outline from keyword + pillar', impact: 'Saves 20 min/post', tools: 'Claude/GPT + Notion AI' },
            { title: 'Social post auto-creation', description: 'Blog publish ‚Üí auto-generate Twitter/LinkedIn post', impact: 'Removes manual repurposing', tools: 'Zapier/Make + Buffer' },
            { title: 'Keyword research pipeline', description: 'Weekly auto-pull of trending keywords in niche', impact: 'Always have fresh ideas', tools: 'Ahrefs API + Google Sheets' },
            { title: 'Email newsletter automation', description: 'New post ‚Üí auto-send to subscribers', impact: 'Hands-free list engagement', tools: 'ConvertKit + Zapier' },
            { title: 'Content repurposing queue', description: 'Flag high-performing posts for repurposing', impact: 'Extract more value from winners', tools: 'GA + Notion + Zapier' },
        ];

        const sopsData = [
            { title: 'Blog Post Creation Process', sections: [
                { phase: 'Pre-Writing (10 min)', steps: ['Choose topic from Content Ideas', 'Quick keyword check', 'Define target keyword and reader'] },
                { phase: 'Writing (30-45 min)', steps: ['Write headline', 'Write intro hook', 'Write 3-5 subheadings', 'Fill sections (800-1500 words)', 'Add internal + external links', 'Write meta description'] },
                { phase: 'Publishing (10 min)', steps: ['Add featured image', 'Set categories + tags', 'Run SEO checklist', 'Publish or schedule'] },
            ]},
            { title: 'Weekly Content Planning', sections: [
                { phase: 'Review (10 min)', steps: ['Check posts published', 'Note what worked'] },
                { phase: 'Plan (15 min)', steps: ['Pick 2-3 topics', 'Assign to days', 'Note keywords'] },
                { phase: 'Prep (5 min)', steps: ['Block calendar time', 'Set stretch goal'] },
            ]},
        ];

        let notesData = {};
        let currentTaskId = null;
        let saveTimeout = null;

        async function loadNotes() {
            try {
                const { data, error } = await supabase.from('user_notes').select('*');
                if (error) throw error;
                notesData = {};
                if (data) {
                    data.forEach(row => {
                        const isCompleted = row.note_content && row.note_content.startsWith('[COMPLETED]');
                        notesData[row.task_id] = {
                            note: isCompleted ? row.note_content.replace('[COMPLETED]', '').trim() : (row.note_content || ''),
                            completed: isCompleted
                        };
                    });
                }
            } catch (err) {
                console.error('Error loading:', err);
                notesData = JSON.parse(localStorage.getItem('blogLaunchPad_notes') || '{}');
            }
            renderAll();
            updateProgress();
        }

        async function saveNote(taskId, noteContent, isCompleted) {
            const saveStatus = document.getElementById('save-status');
            saveStatus.textContent = '‚è≥ Saving...';
            saveStatus.className = 'save-status saving';
            const contentToSave = isCompleted ? `[COMPLETED]${noteContent}` : noteContent;
            try {
                const { data: existing } = await supabase.from('user_notes').select('id').eq('task_id', taskId).single();
                if (existing) {
                    await supabase.from('user_notes').update({ note_content: contentToSave, updated_at: new Date().toISOString() }).eq('task_id', taskId);
                } else {
                    await supabase.from('user_notes').insert({ task_id: taskId, note_content: contentToSave, updated_at: new Date().toISOString() });
                }
                notesData[taskId] = { note: noteContent, completed: isCompleted };
                localStorage.setItem('blogLaunchPad_notes', JSON.stringify(notesData));
                saveStatus.textContent = '‚úì Saved';
                saveStatus.className = 'save-status saved';
                renderAll();
                updateProgress();
            } catch (err) {
                console.error('Error saving:', err);
                saveStatus.textContent = '‚ö†Ô∏è Error';
                notesData[taskId] = { note: noteContent, completed: isCompleted };
                localStorage.setItem('blogLaunchPad_notes', JSON.stringify(notesData));
            }
        }

        function autoSave() {
            if (saveTimeout) clearTimeout(saveTimeout);
            document.getElementById('save-status').textContent = '‚è≥ Saving...';
            document.getElementById('save-status').className = 'save-status saving';
            saveTimeout = setTimeout(() => {
                const noteContent = document.getElementById('modal-notes').value;
                const isCompleted = notesData[currentTaskId]?.completed || false;
                saveNote(currentTaskId, noteContent, isCompleted);
            }, 1000);
        }

        function openModal(taskId) {
            currentTaskId = taskId;
            let task = null;
            for (const category of Object.values(tasksData)) {
                task = category.find(t => t.id === taskId);
                if (task) break;
            }
            if (!task) return;
            document.getElementById('modal-title').textContent = task.text;
            document.getElementById('modal-notes').value = notesData[taskId]?.note || '';
            document.getElementById('modal-notes').placeholder = task.hint || 'Write your notes here...';
            const btnComplete = document.getElementById('btn-complete');
            const isCompleted = notesData[taskId]?.completed || false;
            btnComplete.textContent = isCompleted ? '‚úì Completed' : 'Mark Complete';
            btnComplete.className = isCompleted ? 'btn btn-complete completed' : 'btn btn-complete';
            document.getElementById('save-status').textContent = '';
            document.getElementById('modal-overlay').classList.add('open');
            document.getElementById('modal-notes').focus();
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.remove('open');
            currentTaskId = null;
        }

        function toggleTaskComplete() {
            if (!currentTaskId) return;
            const isCurrentlyCompleted = notesData[currentTaskId]?.completed || false;
            const noteContent = document.getElementById('modal-notes').value;
            saveNote(currentTaskId, noteContent, !isCurrentlyCompleted);
            const btnComplete = document.getElementById('btn-complete');
            btnComplete.textContent = !isCurrentlyCompleted ? '‚úì Completed' : 'Mark Complete';
            btnComplete.className = !isCurrentlyCompleted ? 'btn btn-complete completed' : 'btn btn-complete';
        }

        function saveAndClose() {
            if (currentTaskId) {
                const noteContent = document.getElementById('modal-notes').value;
                const isCompleted = notesData[currentTaskId]?.completed || false;
                saveNote(currentTaskId, noteContent, isCompleted);
            }
            closeModal();
        }

        function toggleTaskFromList(event, taskId) {
            event.stopPropagation();
            const isCurrentlyCompleted = notesData[taskId]?.completed || false;
            const noteContent = notesData[taskId]?.note || '';
            saveNote(taskId, noteContent, !isCurrentlyCompleted);
        }

        function renderTasks(category, containerId) {
            const container = document.getElementById(containerId);
            container.innerHTML = tasksData[category].map(task => {
                const taskData = notesData[task.id] || {};
                const isDone = taskData.completed || false;
                const hasNotes = taskData.note && taskData.note.trim().length > 0;
                const notePreview = hasNotes ? taskData.note.substring(0, 50) + (taskData.note.length > 50 ? '...' : '') : '';
                return `<div class="task-item ${isDone ? 'done' : ''} ${hasNotes ? 'has-notes' : ''}" onclick="openModal('${task.id}')">
                    <input type="checkbox" class="task-checkbox" ${isDone ? 'checked' : ''} onclick="toggleTaskFromList(event, '${task.id}')">
                    ${task.day ? `<span class="task-day">Day ${task.day}</span>` : ''}
                    <div class="task-content"><span class="task-text">${task.text}</span>${hasNotes ? `<span class="task-note-preview">üìù ${notePreview}</span>` : ''}</div>
                    ${task.time ? `<span class="task-time">${task.time}</span>` : ''}
                    <span class="task-expand">Edit</span>
                </div>`;
            }).join('');
        }

        function renderRoadmap() {
            document.getElementById('roadmap-list').innerHTML = roadmapData.map(phase => `
                <div class="roadmap-item ${phase.active ? 'active' : ''}">
                    <div class="phase-number">${phase.phase}</div>
                    <div>
                        <div class="phase-header">
                            <span class="phase-name" style="color: ${phase.active ? '#3b82f6' : '#e2e8f0'}">${phase.name}</span>
                            <span class="phase-weeks">Weeks ${phase.weeks}</span>
                            ${phase.active ? '<span class="phase-current">CURRENT</span>' : ''}
                        </div>
                        <p class="phase-focus">${phase.focus}</p>
                        <p class="phase-milestone">üéØ <strong>Milestone:</strong> ${phase.milestone}</p>
                    </div>
                </div>`).join('');
        }

        function renderIdeas() {
            const pillarClasses = { 'Tool Deep Dive': 'pillar-tool', 'Systems & Workflows': 'pillar-systems', 'Personal Growth': 'pillar-growth', 'Case Study': 'pillar-case' };
            document.getElementById('ideas-list').innerHTML = ideasData.map(idea => `
                <div class="idea-card">
                    <div><div class="idea-title">${idea.title}</div><div class="idea-tags"><span class="tag ${pillarClasses[idea.pillar]}">${idea.pillar}</span><span class="tag" style="background:rgba(255,255,255,0.05);color:#94a3b8;">üîë ${idea.keyword}</span></div></div>
                    <span class="tag-priority ${idea.priority}">${idea.priority}</span>
                </div>`).join('');
        }

        function renderBacklog() {
            document.getElementById('backlog-list').innerHTML = backlogData.map(item => `
                <div class="backlog-card">
                    <div class="backlog-header"><span class="backlog-title">${item.title}</span><span class="backlog-tag">[AUTOMATE]</span></div>
                    <p class="backlog-desc">${item.description}</p>
                    <div class="backlog-meta"><span class="meta-impact">üí™ ${item.impact}</span><span class="meta-tools">üõ†Ô∏è ${item.tools}</span></div>
                </div>`).join('');
        }

        function renderSOPs() {
            document.getElementById('sops-list').innerHTML = sopsData.map(sop => `
                <div class="sop-card"><div class="sop-title">${sop.title}</div>
                ${sop.sections.map(section => `<div class="sop-phase">${section.phase}</div><div class="sop-steps">${section.steps.map(step => `<div class="sop-step"><span>‚Ä¢</span> ${step}</div>`).join('')}</div>`).join('')}
                </div>`).join('');
        }

        function updateProgress() {
            ['day1', 'week1', 'week2'].forEach(category => {
                const tasks = tasksData[category];
                const done = tasks.filter(t => notesData[t.id]?.completed).length;
                const percent = Math.round((done / tasks.length) * 100);
                document.getElementById(`progress-${category}`).textContent = percent + '%';
                document.getElementById(`bar-${category}`).style.width = percent + '%';
                document.getElementById(`stat-${category}`).textContent = percent + '%';
            });
        }

        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                btn.classList.add('active');
                document.getElementById('tab-' + btn.dataset.tab).classList.add('active');
            });
        });

        document.getElementById('modal-overlay').addEventListener('click', (e) => { if (e.target.id === 'modal-overlay') saveAndClose(); });
        document.getElementById('modal-notes').addEventListener('input', autoSave);
        document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && document.getElementById('modal-overlay').classList.contains('open')) saveAndClose(); });

        async function resetProgress() {
            if (confirm('Reset all progress? This cannot be undone.')) {
                try { await supabase.from('user_notes').delete().neq('task_id', ''); } catch (err) { console.error(err); }
                notesData = {};
                localStorage.removeItem('blogLaunchPad_notes');
                renderAll();
                updateProgress();
            }
        }

        function renderAll() {
            renderTasks('day1', 'tasks-day1');
            renderTasks('week1', 'tasks-week1');
            renderTasks('week2', 'tasks-week2');
            renderRoadmap();
            renderIdeas();
            renderBacklog();
            renderSOPs();
        }

        loadNotes();
    </script>
</body>
</html>
